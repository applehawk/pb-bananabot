# Quick Start: Gemini Model Selection

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Google Cloud

### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```bash
./deploy/google.cloud/migrate-gemini-model-ssh.sh
```

–°–∫—Ä–∏–ø—Ç:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î
- ‚úÖ –î–æ–±–∞–≤–∏—Ç –ø–æ–ª–µ `geminiModel` –≤ —Ç–∞–±–ª–∏—Ü—É `UserSettings`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ü–æ–∫–∞–∂–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
```bash
# –î–µ–ø–ª–æ–π –±–æ—Ç–∞
./deploy/google.cloud/deploy-all.sh bot

# –î–µ–ø–ª–æ–π –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
./deploy/google.cloud/deploy-all.sh admin
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `https://your-domain.com/admin`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Users ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí Settings
3. –í —Å–µ–∫—Ü–∏–∏ "Generation Settings" –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–ª–µ "Gemini Model"

## üè† –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: —á–µ—Ä–µ–∑ Prisma
npx prisma migrate deploy

# –í–∞—Ä–∏–∞–Ω—Ç 2: —á–µ—Ä–µ–∑ Docker
docker-compose exec bot npx prisma migrate deploy
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
```bash
make restart
# –∏–ª–∏
docker-compose restart
```

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3001/users`
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ù–∞–∂–º–∏—Ç–µ "Settings"
4. –í "Generation Settings" –≤—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å:
   - **gemini-2.5-flash-image** (–±—ã—Å—Ç—Ä–∞—è, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - **gemini-3-pro-image-preview** (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ (—á–µ—Ä–µ–∑ API)
```bash
# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl http://localhost:3001/api/users/{userId}/settings

# –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å
curl -X PUT http://localhost:3001/api/users/{userId}/settings \
  -H "Content-Type: application/json" \
  -d '{
    "geminiModel": "gemini-3-pro-image-preview",
    "aspectRatio": "1:1",
    "numberOfImages": 1,
    ...
  }'
```

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

| –ú–æ–¥–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ |
|--------|----------|----------|----------|
| `gemini-2.5-flash-image` | –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | ‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê |
| `gemini-3-pro-image-preview` | –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | ‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
npx prisma studio

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
gcloud compute ssh bananabot-vm --zone=europe-north1-c --command="
  cd ~/bananabot && \
  PGPASSWORD='bananabot_secret' sudo docker compose exec -T postgres psql -U bananabot -d bananabot -c '
    SELECT \"geminiModel\", COUNT(*) 
    FROM \"UserSettings\" 
    GROUP BY \"geminiModel\";
  '
"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
docker-compose logs -f bot

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
gcloud compute ssh bananabot-vm --zone=europe-north1-c --command="
  cd ~/bananabot && sudo docker compose logs -f bot
"
```

–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[GeminiService] Generating 1 image(s) for prompt: ...
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../../docs/GEMINI_MODEL_SELECTION.md)
- [README –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞](./README.migrate-gemini-model.md)

## ‚ùì FAQ

**Q: –ß—Ç–æ –±—É–¥–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏?**  
A: –í—Å–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `gemini-2.5-flash-image`

**Q: –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é?**  
A: –î–∞, —Å–º. —Ä–∞–∑–¥–µ–ª "–û—Ç–∫–∞—Ç" –≤ [README –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞](./README.migrate-gemini-model.md)

**Q: –í–ª–∏—è–µ—Ç –ª–∏ –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫—Ä–µ–¥–∏—Ç–æ–≤?**  
A: –ù–µ—Ç, —Å—Ç–æ–∏–º–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π. –ú–æ–¥–µ–ª—å –≤–ª–∏—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –º–æ–¥–µ–ª—å?**  
A: –î–∞, –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –æ–ø—Ü–∏—é –≤:
- `bananabot-admin/app/users/[id]/settings/page.tsx` (UI)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Gemini API

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "Property 'geminiModel' does not exist"
```bash
# –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client
npx prisma generate

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å TypeScript —Å–µ—Ä–≤–µ—Ä –≤ IDE
# VSCode: Cmd+Shift+P ‚Üí "TypeScript: Restart TS Server"
```

### –û—à–∏–±–∫–∞: "Column geminiModel does not exist"
```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
npx prisma migrate deploy
```

### –ú–æ–¥–µ–ª—å –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
npx prisma studio

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f bot
```
